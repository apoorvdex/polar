"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class TagsDB {
    constructor() {
        this.index = {};
    }
    register(...tags) {
        tags.forEach(tag => {
            if (!this.index[tag.id]) {
                this.index[tag.id] = tag;
            }
        });
    }
    tags() {
        return Object.values(this.index);
    }
    updateDocInfoTags(repoDocInfo, tags) {
        tags.forEach(current => this.register(current));
    }
}
exports.TagsDB = TagsDB;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFnc0RCLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiVGFnc0RCLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBT0EsTUFBYSxNQUFNO0lBQW5CO1FBTXFCLFVBQUssR0FBd0IsRUFBRSxDQUFDO0lBOEJyRCxDQUFDO0lBNUJVLFFBQVEsQ0FBQyxHQUFHLElBQVc7UUFFMUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUVmLElBQUksQ0FBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRTtnQkFDdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO2FBQzVCO1FBRUwsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDO0lBS00sSUFBSTtRQUNQLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQU9NLGlCQUFpQixDQUFDLFdBQXdCLEVBQUUsSUFBVztRQUMxRCxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUM7Q0FFSjtBQXBDRCx3QkFvQ0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1RhZ30gZnJvbSAnLi4vLi4vLi4vd2ViL2pzL3RhZ3MvVGFnJztcbmltcG9ydCB7UmVwb0RvY0luZm99IGZyb20gJy4vUmVwb0RvY0luZm8nO1xuXG4vKipcbiAqIEEgc2ltcGxlIGluLW1lbW9yeSBkYXRhYmFzZSBvZiB0YWdzIHdoaWNoIGNhbiBiZSBidWlsdCB3aGVuIHdlIGxvYWQgdGhlIC5qc29uXG4gKiBkYXRhIGZyb20gZGlzay5cbiAqL1xuZXhwb3J0IGNsYXNzIFRhZ3NEQiB7XG5cbiAgICAvKipcbiAgICAgKiBTdG9yZXMgdGhlIGFjdHVhbCBkYXRhIHdlJ3JlIGluZGV4aW5nLiAgVGhlIGtleSBpcyB0aGUgbG93ZXJjYXNlXG4gICAgICogcmVwcmVzZW50YXRpb24gb2YgYSB0YWdcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlYWRvbmx5IGluZGV4OiB7W2lkOiBzdHJpbmddOiBUYWd9ID0ge307XG5cbiAgICBwdWJsaWMgcmVnaXN0ZXIoLi4udGFnczogVGFnW10pOiB2b2lkIHtcblxuICAgICAgICB0YWdzLmZvckVhY2godGFnID0+IHtcblxuICAgICAgICAgICAgaWYgKCEgdGhpcy5pbmRleFt0YWcuaWRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleFt0YWcuaWRdID0gdGFnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCB0aGUgbGFiZWxzIG9mIGFsbCB0aGUgdGFncyB3ZSd2ZSBpbmRleGVkIHNvIGZhci5cbiAgICAgKi9cbiAgICBwdWJsaWMgdGFncygpOiBUYWdbXSB7XG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMuaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyaXRlIHRoZSB1cGRhdGUgZGF0YSB0byB0aGUgZGF0YWJhc2UgYnV0IGFsc28gbWFrZSBzdXJlIGFsbCB0aGUgdGFnc1xuICAgICAqIGFyZSByZWdpc3RlcmVkLlxuICAgICAqXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZURvY0luZm9UYWdzKHJlcG9Eb2NJbmZvOiBSZXBvRG9jSW5mbywgdGFnczogVGFnW10pIHtcbiAgICAgICAgdGFncy5mb3JFYWNoKGN1cnJlbnQgPT4gdGhpcy5yZWdpc3RlcihjdXJyZW50KSk7XG4gICAgfVxuXG59XG4iXX0=