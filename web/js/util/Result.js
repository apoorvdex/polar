"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Result {
    constructor(opts) {
        this.value = opts.value;
        this.err = opts.err;
    }
    hasValue() {
        return this.value !== undefined;
    }
    get() {
        if (this.value !== undefined) {
            return this.value;
        }
        throw this.err;
    }
    toJSON() {
        if (this.value !== undefined) {
            return {
                value: this.value
            };
        }
        else if (this.err !== undefined) {
            return {
                err: {
                    name: this.err.name,
                    message: this.err.message,
                    stack: this.err.stack
                }
            };
        }
        else {
            throw new Error("Neither value nor err");
        }
    }
}
exports.Result = Result;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVzdWx0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiUmVzdWx0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBWUEsTUFBYSxNQUFNO0lBTWYsWUFBWSxJQUFnQjtRQUN4QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO0lBQ3hCLENBQUM7SUFFTSxRQUFRO1FBQ1gsT0FBTyxJQUFJLENBQUMsS0FBSyxLQUFLLFNBQVMsQ0FBQztJQUNwQyxDQUFDO0lBRU0sR0FBRztRQUVOLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxTQUFTLEVBQUU7WUFDMUIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO1NBQ3JCO1FBRUQsTUFBTSxJQUFJLENBQUMsR0FBSSxDQUFDO0lBRXBCLENBQUM7SUFFTSxNQUFNO1FBRVQsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFNBQVMsRUFBRTtZQUUxQixPQUFPO2dCQUNILEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSzthQUNwQixDQUFDO1NBRUw7YUFBTSxJQUFJLElBQUksQ0FBQyxHQUFHLEtBQUssU0FBUyxFQUFFO1lBRS9CLE9BQU87Z0JBQ0gsR0FBRyxFQUFFO29CQUNELElBQUksRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUk7b0JBQ25CLE9BQU8sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU87b0JBQ3pCLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUs7aUJBQ3hCO2FBQ0osQ0FBQztTQUVMO2FBQU07WUFDSCxNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7U0FDNUM7SUFFTCxDQUFDO0NBRUo7QUFqREQsd0JBaURDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSZXByZXNlbnRzIGEgUmVzdWx0IG9mIHNvbWUgY29tcHV0YXRpb24gdGhhdCB1c3VhbGx5IG5lZWRzIHRvIGJlIHJlcHJlc2VudGVkXG4gKiBhcyBlaXRoZXIgYSB2YWx1ZSBvciBhbiBlcnJvci4gIFdlIG9mdGVuIHVzZSB0aGVzZSBmb3IgUlBDIC8gSVBDLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElSZXN1bHQ8VD4ge1xuXG4gICAgcmVhZG9ubHkgdmFsdWU/OiBUO1xuXG4gICAgcmVhZG9ubHkgZXJyPzogRXJyb3I7XG5cbn1cblxuZXhwb3J0IGNsYXNzIFJlc3VsdDxUPiBpbXBsZW1lbnRzIElSZXN1bHQ8VD4ge1xuXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlPzogVDtcblxuICAgIHB1YmxpYyByZWFkb25seSBlcnI/OiBFcnJvcjtcblxuICAgIGNvbnN0cnVjdG9yKG9wdHM6IElSZXN1bHQ8VD4pIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG9wdHMudmFsdWU7XG4gICAgICAgIHRoaXMuZXJyID0gb3B0cy5lcnI7XG4gICAgfVxuXG4gICAgcHVibGljIGhhc1ZhbHVlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQoKTogVCB7XG5cbiAgICAgICAgaWYgKHRoaXMudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyB0aGlzLmVyciE7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgdG9KU09OKCk6IGFueSB7XG5cbiAgICAgICAgaWYgKHRoaXMudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5lcnIgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGVycjoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLmVyci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLmVyci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBzdGFjazogdGhpcy5lcnIuc3RhY2tcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOZWl0aGVyIHZhbHVlIG5vciBlcnJcIik7XG4gICAgICAgIH1cblxuICAgIH1cblxufVxuIl19