"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Logger_1 = require("../../logger/Logger");
const RemotePersistenceLayerFactory_1 = require("../factories/RemotePersistenceLayerFactory");
const log = Logger_1.Logger.create();
process.dlopen = () => {
    throw new Error('Load native module is not safe');
};
RemotePersistenceLayerFactory_1.RemotePersistenceLayerFactory.create();
addEventListener('message', (messageEvent) => {
    const ipcMessage = messageEvent.data;
    if (ipcMessage.type === 'sync') {
    }
    else {
        throw new Error("Unhandled message: " + ipcMessage.type);
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGVyc2lzdGVuY2VMYXllcldvcmtlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlBlcnNpc3RlbmNlTGF5ZXJXb3JrZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSxnREFBMkM7QUFDM0MsOEZBQXlGO0FBRXpGLE1BQU0sR0FBRyxHQUFHLGVBQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQVE1QixPQUFPLENBQUMsTUFBTSxHQUFHLEdBQUcsRUFBRTtJQUNsQixNQUFNLElBQUksS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7QUFDdEQsQ0FBQyxDQUFDO0FBRUYsNkRBQTZCLENBQUMsTUFBTSxFQUFFLENBQUM7QUFrQnZDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxDQUFDLFlBQVksRUFBRSxFQUFFO0lBRXpDLE1BQU0sVUFBVSxHQUFvQixZQUFZLENBQUMsSUFBSSxDQUFDO0lBRXRELElBQUksVUFBVSxDQUFDLElBQUksS0FBSyxNQUFNLEVBQUU7S0FLL0I7U0FBTTtRQUNILE1BQU0sSUFBSSxLQUFLLENBQUMscUJBQXFCLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzVEO0FBRUwsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0lQQ01lc3NhZ2V9IGZyb20gJy4uLy4uL2lwYy9oYW5kbGVyL0lQQ01lc3NhZ2UnO1xuaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uLy4uL2xvZ2dlci9Mb2dnZXInO1xuaW1wb3J0IHtSZW1vdGVQZXJzaXN0ZW5jZUxheWVyRmFjdG9yeX0gZnJvbSAnLi4vZmFjdG9yaWVzL1JlbW90ZVBlcnNpc3RlbmNlTGF5ZXJGYWN0b3J5JztcblxuY29uc3QgbG9nID0gTG9nZ2VyLmNyZWF0ZSgpO1xuLy9cbmRlY2xhcmUgdmFyIHByb2Nlc3M6IGFueTtcbi8vXG5kZWNsYXJlIHZhciBleHBvcnRzOiBhbnk7XG4vL1xuLy8gZXhwb3J0cyA9IHt9O1xuLy9cbnByb2Nlc3MuZGxvcGVuID0gKCkgPT4ge1xuICAgIHRocm93IG5ldyBFcnJvcignTG9hZCBuYXRpdmUgbW9kdWxlIGlzIG5vdCBzYWZlJyk7XG59O1xuXG5SZW1vdGVQZXJzaXN0ZW5jZUxheWVyRmFjdG9yeS5jcmVhdGUoKTtcblxuLy8gY2xhc3MgUGVyc2lzdGVuY2VMYXllcldvcmtlciB7XG4vL1xuLy8gICAgIHByaXZhdGUgcmVhZG9ubHkgcGVyc2lzdGVuY2VMYXllcjogUGVyc2lzdGVuY2VMYXllcjtcbi8vXG4vLyAgICAgY29uc3RydWN0b3IoKSB7XG4vLyAgICAgICAgIHRoaXMucGVyc2lzdGVuY2VMYXllciA9IEVsZWN0cm9uUGVyc2lzdGVuY2VMYXllckZhY3RvcnkuY3JlYXRlKCk7XG4vLyAgICAgfVxuLy9cbi8vICAgICBhc3luYyBzeW5jKGRvY01ldGFXcml0ZTogRG9jTWV0YVN5bmMpIHtcbi8vICAgICAgICAgLy9hd2FpdCB0aGlzLnBlcnNpc3RlbmNlTGF5ZXIuc3luYyhkb2NNZXRhV3JpdGUuZmluZ2VycHJpbnQsIGRvY01ldGFXcml0ZS5kb2NNZXRhKTtcbi8vICAgICB9XG4vL1xuLy8gfVxuLy9cbi8vIGxldCBwZXJzaXN0ZW5jZUxheWVyV29ya2VyID0gbmV3IFBlcnNpc3RlbmNlTGF5ZXJXb3JrZXIoKTtcbi8vXG5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKG1lc3NhZ2VFdmVudCkgPT4ge1xuXG4gICAgY29uc3QgaXBjTWVzc2FnZTogSVBDTWVzc2FnZTxhbnk+ID0gbWVzc2FnZUV2ZW50LmRhdGE7XG5cbiAgICBpZiAoaXBjTWVzc2FnZS50eXBlID09PSAnc3luYycpIHtcblxuICAgICAgICAvLyBwZXJzaXN0ZW5jZUxheWVyV29ya2VyLnN5bmMobWVzc2FnZUV2ZW50LmRhdGEpXG4gICAgICAgIC8vICAgICAuY2F0Y2goZXJyID0+IGxvZy5lcnJvcihcIlVuYWJsZSB0byB3cml0ZSBkb2NNZXRhOiBcIiwgZXJyKSlcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuaGFuZGxlZCBtZXNzYWdlOiBcIiArIGlwY01lc3NhZ2UudHlwZSk7XG4gICAgfVxuXG59KTtcbiJdfQ==