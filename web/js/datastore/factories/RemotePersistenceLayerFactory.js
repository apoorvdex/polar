"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Logger_1 = require("../../logger/Logger");
const DefaultPersistenceLayer_1 = require("../DefaultPersistenceLayer");
const AdvertisingPersistenceLayer_1 = require("../advertiser/AdvertisingPersistenceLayer");
const RemoteDatastores_1 = require("../RemoteDatastores");
const log = Logger_1.Logger.create();
class RemotePersistenceLayerFactory {
    static create() {
        log.info("Using remote persistence layer and disk store");
        const datastore = RemoteDatastores_1.RemoteDatastores.create();
        const defaultPersistenceLayer = new DefaultPersistenceLayer_1.DefaultPersistenceLayer(datastore);
        const advertisingPersistenceLayer = new AdvertisingPersistenceLayer_1.AdvertisingPersistenceLayer(defaultPersistenceLayer);
        return advertisingPersistenceLayer;
    }
}
exports.RemotePersistenceLayerFactory = RemotePersistenceLayerFactory;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVtb3RlUGVyc2lzdGVuY2VMYXllckZhY3RvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJSZW1vdGVQZXJzaXN0ZW5jZUxheWVyRmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGdEQUEyQztBQUUzQyx3RUFBbUU7QUFDbkUsMkZBQXNGO0FBQ3RGLDBEQUFxRDtBQUVyRCxNQUFNLEdBQUcsR0FBRyxlQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFFNUIsTUFBYSw2QkFBNkI7SUFFL0IsTUFBTSxDQUFDLE1BQU07UUFFaEIsR0FBRyxDQUFDLElBQUksQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO1FBRTFELE1BQU0sU0FBUyxHQUFHLG1DQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDO1FBRTVDLE1BQU0sdUJBQXVCLEdBQUcsSUFBSSxpREFBdUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN2RSxNQUFNLDJCQUEyQixHQUFHLElBQUkseURBQTJCLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUU3RixPQUFPLDJCQUEyQixDQUFDO0lBRXZDLENBQUM7Q0FFSjtBQWZELHNFQWVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uLy4uL2xvZ2dlci9Mb2dnZXInO1xuaW1wb3J0IHtMaXN0ZW5hYmxlUGVyc2lzdGVuY2VMYXllcn0gZnJvbSAnLi4vTGlzdGVuYWJsZVBlcnNpc3RlbmNlTGF5ZXInO1xuaW1wb3J0IHtEZWZhdWx0UGVyc2lzdGVuY2VMYXllcn0gZnJvbSAnLi4vRGVmYXVsdFBlcnNpc3RlbmNlTGF5ZXInO1xuaW1wb3J0IHtBZHZlcnRpc2luZ1BlcnNpc3RlbmNlTGF5ZXJ9IGZyb20gJy4uL2FkdmVydGlzZXIvQWR2ZXJ0aXNpbmdQZXJzaXN0ZW5jZUxheWVyJztcbmltcG9ydCB7UmVtb3RlRGF0YXN0b3Jlc30gZnJvbSAnLi4vUmVtb3RlRGF0YXN0b3Jlcyc7XG5cbmNvbnN0IGxvZyA9IExvZ2dlci5jcmVhdGUoKTtcblxuZXhwb3J0IGNsYXNzIFJlbW90ZVBlcnNpc3RlbmNlTGF5ZXJGYWN0b3J5IHtcblxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCk6IExpc3RlbmFibGVQZXJzaXN0ZW5jZUxheWVyIHtcblxuICAgICAgICBsb2cuaW5mbyhcIlVzaW5nIHJlbW90ZSBwZXJzaXN0ZW5jZSBsYXllciBhbmQgZGlzayBzdG9yZVwiKTtcblxuICAgICAgICBjb25zdCBkYXRhc3RvcmUgPSBSZW1vdGVEYXRhc3RvcmVzLmNyZWF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IGRlZmF1bHRQZXJzaXN0ZW5jZUxheWVyID0gbmV3IERlZmF1bHRQZXJzaXN0ZW5jZUxheWVyKGRhdGFzdG9yZSk7XG4gICAgICAgIGNvbnN0IGFkdmVydGlzaW5nUGVyc2lzdGVuY2VMYXllciA9IG5ldyBBZHZlcnRpc2luZ1BlcnNpc3RlbmNlTGF5ZXIoZGVmYXVsdFBlcnNpc3RlbmNlTGF5ZXIpO1xuXG4gICAgICAgIHJldHVybiBhZHZlcnRpc2luZ1BlcnNpc3RlbmNlTGF5ZXI7XG5cbiAgICB9XG5cbn1cbiJdfQ==