"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ISODateTimeStrings_1 = require("./ISODateTimeStrings");
const Hashcodes_1 = require("../Hashcodes");
const Preconditions_1 = require("../Preconditions");
class ReadingProgresses {
    static create(progress, progressByMode, preExisting) {
        Preconditions_1.Preconditions.assert(progress, () => progress >= 0 && progress <= 100, "Progress value invalid. Must be within interval [0-100]");
        const created = ISODateTimeStrings_1.ISODateTimeStrings.create();
        const id = Hashcodes_1.Hashcodes.createID({ nonce: this.sequences.id++, created });
        return { id, created, progress, progressByMode, preExisting };
    }
}
ReadingProgresses.sequences = {
    id: 0,
};
exports.ReadingProgresses = ReadingProgresses;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVhZGluZ1Byb2dyZXNzZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJSZWFkaW5nUHJvZ3Jlc3Nlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDZEQUF3RDtBQUN4RCw0Q0FBdUM7QUFFdkMsb0RBQStDO0FBRy9DLE1BQWEsaUJBQWlCO0lBTW5CLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBZ0IsRUFDaEIsY0FBOEIsRUFDOUIsV0FBcUI7UUFFdEMsNkJBQWEsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUNSLEdBQUcsRUFBRSxDQUFDLFFBQVEsSUFBSSxDQUFDLElBQUksUUFBUSxJQUFJLEdBQUcsRUFDdEMseURBQXlELENBQUMsQ0FBQztRQUVoRixNQUFNLE9BQU8sR0FBRyx1Q0FBa0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUU1QyxNQUFNLEVBQUUsR0FBRyxxQkFBUyxDQUFDLFFBQVEsQ0FBQyxFQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBQyxDQUFDLENBQUM7UUFFckUsT0FBTyxFQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUMsQ0FBQztJQUVoRSxDQUFDOztBQWxCYSwyQkFBUyxHQUFHO0lBQ3RCLEVBQUUsRUFBRSxDQUFDO0NBQ1IsQ0FBQztBQUpOLDhDQXNCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SVNPRGF0ZVRpbWVTdHJpbmdzfSBmcm9tICcuL0lTT0RhdGVUaW1lU3RyaW5ncyc7XG5pbXBvcnQge0hhc2hjb2Rlc30gZnJvbSAnLi4vSGFzaGNvZGVzJztcbmltcG9ydCB7UHJvZ3Jlc3NCeU1vZGUsIFJlYWRpbmdQcm9ncmVzc30gZnJvbSAnLi9SZWFkaW5nUHJvZ3Jlc3MnO1xuaW1wb3J0IHtQcmVjb25kaXRpb25zfSBmcm9tICcuLi9QcmVjb25kaXRpb25zJztcblxuXG5leHBvcnQgY2xhc3MgUmVhZGluZ1Byb2dyZXNzZXMge1xuXG4gICAgcHVibGljIHN0YXRpYyBzZXF1ZW5jZXMgPSB7XG4gICAgICAgIGlkOiAwLFxuICAgIH07XG5cbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShwcm9ncmVzczogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQnlNb2RlOiBQcm9ncmVzc0J5TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBwcmVFeGlzdGluZz86IGJvb2xlYW4pOiBSZWFkaW5nUHJvZ3Jlc3Mge1xuXG4gICAgICAgIFByZWNvbmRpdGlvbnMuYXNzZXJ0KHByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiBwcm9ncmVzcyA+PSAwICYmIHByb2dyZXNzIDw9IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJQcm9ncmVzcyB2YWx1ZSBpbnZhbGlkLiBNdXN0IGJlIHdpdGhpbiBpbnRlcnZhbCBbMC0xMDBdXCIpO1xuXG4gICAgICAgIGNvbnN0IGNyZWF0ZWQgPSBJU09EYXRlVGltZVN0cmluZ3MuY3JlYXRlKCk7XG5cbiAgICAgICAgY29uc3QgaWQgPSBIYXNoY29kZXMuY3JlYXRlSUQoe25vbmNlOiB0aGlzLnNlcXVlbmNlcy5pZCsrLCBjcmVhdGVkfSk7XG5cbiAgICAgICAgcmV0dXJuIHtpZCwgY3JlYXRlZCwgcHJvZ3Jlc3MsIHByb2dyZXNzQnlNb2RlLCBwcmVFeGlzdGluZ307XG5cbiAgICB9XG5cbn1cbiJdfQ==