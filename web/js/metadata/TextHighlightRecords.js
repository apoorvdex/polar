"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Hashcodes_1 = require("../Hashcodes");
const TextHighlight_1 = require("./TextHighlight");
const Arrays_1 = require("../util/Arrays");
const ISODateTimeStrings_1 = require("./ISODateTimeStrings");
class TextHighlightRecords {
    static create(rects, textSelections, text, color = 'yellow') {
        const id = Hashcodes_1.Hashcodes.createID(rects);
        const created = ISODateTimeStrings_1.ISODateTimeStrings.create();
        const lastUpdated = created;
        const textHighlight = new TextHighlight_1.TextHighlight({
            id,
            created,
            lastUpdated,
            rects: Arrays_1.Arrays.toDict(rects),
            textSelections: Arrays_1.Arrays.toDict(textSelections),
            text,
            images: {},
            notes: {},
            questions: {},
            flashcards: {},
            guid: id,
            color
        });
        return { id, value: textHighlight };
    }
}
exports.TextHighlightRecords = TextHighlightRecords;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGV4dEhpZ2hsaWdodFJlY29yZHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJUZXh0SGlnaGxpZ2h0UmVjb3Jkcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDRDQUF1QztBQUN2QyxtREFBOEM7QUFFOUMsMkNBQXNDO0FBR3RDLDZEQUF3RDtBQUd4RCxNQUFhLG9CQUFvQjtJQVd0QixNQUFNLENBQUMsTUFBTSxDQUFDLEtBQWMsRUFDZCxjQUEwQixFQUMxQixJQUFVLEVBQ1YsUUFBd0IsUUFBUTtRQUVqRCxNQUFNLEVBQUUsR0FBRyxxQkFBUyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVyQyxNQUFNLE9BQU8sR0FBRyx1Q0FBa0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUM1QyxNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUM7UUFFNUIsTUFBTSxhQUFhLEdBQUcsSUFBSSw2QkFBYSxDQUFDO1lBQ3BDLEVBQUU7WUFDRixPQUFPO1lBQ1AsV0FBVztZQUNYLEtBQUssRUFBRSxlQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztZQUMzQixjQUFjLEVBQUUsZUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7WUFDN0MsSUFBSTtZQUNKLE1BQU0sRUFBRSxFQUFFO1lBQ1YsS0FBSyxFQUFFLEVBQUU7WUFDVCxTQUFTLEVBQUUsRUFBRTtZQUNiLFVBQVUsRUFBRSxFQUFFO1lBQ2QsSUFBSSxFQUFFLEVBQUU7WUFDUixLQUFLO1NBQ1IsQ0FBQyxDQUFDO1FBRUgsT0FBTyxFQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsYUFBYSxFQUFDLENBQUM7SUFFdEMsQ0FBQztDQUVKO0FBeENELG9EQXdDQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SGFzaGNvZGVzfSBmcm9tICcuLi9IYXNoY29kZXMnO1xuaW1wb3J0IHtUZXh0SGlnaGxpZ2h0fSBmcm9tICcuL1RleHRIaWdobGlnaHQnO1xuaW1wb3J0IHtUZXh0fSBmcm9tICcuL1RleHQnO1xuaW1wb3J0IHtBcnJheXN9IGZyb20gJy4uL3V0aWwvQXJyYXlzJztcbmltcG9ydCB7VGV4dFJlY3R9IGZyb20gJy4vVGV4dFJlY3QnO1xuaW1wb3J0IHtJUmVjdH0gZnJvbSAnLi4vdXRpbC9yZWN0cy9JUmVjdCc7XG5pbXBvcnQge0lTT0RhdGVUaW1lU3RyaW5nc30gZnJvbSAnLi9JU09EYXRlVGltZVN0cmluZ3MnO1xuaW1wb3J0IHtIaWdobGlnaHRDb2xvcn0gZnJvbSAnLi9CYXNlSGlnaGxpZ2h0JztcblxuZXhwb3J0IGNsYXNzIFRleHRIaWdobGlnaHRSZWNvcmRzIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIFRleHRIaWdobGlnaHQgYnkgc3BlY2lmeWluZyBhbGwgcmVxdWlyZWQgcm93cy5cbiAgICAgKlxuICAgICAqIFdlIGFsc28gYXV0b21hdGljYWxseSBhc3NpZ24gdGhlIGNyZWF0ZWQgYW5kIGxhc3RVcGRhdGVkIHZhbHVlcyBvZiB0aGlzXG4gICAgICogb2JqZWN0IGFzIHdlJ3JlIHdvcmtpbmcgd2l0aCBpdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gYW4gb2JqZWN0IHdpdGggYW4gXCJpZFwiIGZvciBhIHVuaXF1ZSBoYXNoIGFuZCBhIFwidmFsdWVcIiBvZiB0aGVcbiAgICAgKiBUZXh0SGlnaGxpZ2h0IHRvIHVzZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShyZWN0czogSVJlY3RbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2VsZWN0aW9uczogVGV4dFJlY3RbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBIaWdobGlnaHRDb2xvciA9ICd5ZWxsb3cnKTogVGV4dEhpZ2hsaWdodFJlY29yZCB7XG5cbiAgICAgICAgY29uc3QgaWQgPSBIYXNoY29kZXMuY3JlYXRlSUQocmVjdHMpO1xuXG4gICAgICAgIGNvbnN0IGNyZWF0ZWQgPSBJU09EYXRlVGltZVN0cmluZ3MuY3JlYXRlKCk7XG4gICAgICAgIGNvbnN0IGxhc3RVcGRhdGVkID0gY3JlYXRlZDtcblxuICAgICAgICBjb25zdCB0ZXh0SGlnaGxpZ2h0ID0gbmV3IFRleHRIaWdobGlnaHQoe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBjcmVhdGVkLFxuICAgICAgICAgICAgbGFzdFVwZGF0ZWQsXG4gICAgICAgICAgICByZWN0czogQXJyYXlzLnRvRGljdChyZWN0cyksXG4gICAgICAgICAgICB0ZXh0U2VsZWN0aW9uczogQXJyYXlzLnRvRGljdCh0ZXh0U2VsZWN0aW9ucyksXG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgaW1hZ2VzOiB7fSxcbiAgICAgICAgICAgIG5vdGVzOiB7fSxcbiAgICAgICAgICAgIHF1ZXN0aW9uczoge30sXG4gICAgICAgICAgICBmbGFzaGNhcmRzOiB7fSxcbiAgICAgICAgICAgIGd1aWQ6IGlkLFxuICAgICAgICAgICAgY29sb3JcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtpZCwgdmFsdWU6IHRleHRIaWdobGlnaHR9O1xuXG4gICAgfVxuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dEhpZ2hsaWdodFJlY29yZCB7XG4gICAgcmVhZG9ubHkgaWQ6IHN0cmluZztcbiAgICByZWFkb25seSB2YWx1ZTogVGV4dEhpZ2hsaWdodDtcbn1cbiJdfQ==