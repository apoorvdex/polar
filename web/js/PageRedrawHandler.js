"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class PageRedrawHandler {
    constructor(pageElement) {
        this.pageElement = pageElement;
        this.listener = null;
    }
    register(callback) {
        this.listener = (event) => {
            if (event.target && event.target.className === "endOfContent") {
                callback(this.pageElement);
            }
        };
        this.pageElement.addEventListener('DOMNodeInserted', this.listener, false);
    }
    ;
    unregister() {
        this.pageElement.removeEventListener('DOMNodeInserted', this.listener, false);
    }
}
exports.PageRedrawHandler = PageRedrawHandler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGFnZVJlZHJhd0hhbmRsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJQYWdlUmVkcmF3SGFuZGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQU9BLE1BQWEsaUJBQWlCO0lBTTFCLFlBQVksV0FBd0I7UUFFaEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7SUFFekIsQ0FBQztJQUVELFFBQVEsQ0FBQyxRQUE0QztRQUVqRCxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsS0FBVSxFQUFFLEVBQUU7WUFFM0IsSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsU0FBUyxLQUFLLGNBQWMsRUFBRTtnQkFDM0QsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQzthQUM5QjtRQUVMLENBQUMsQ0FBQztRQUVGLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUUvRSxDQUFDO0lBQUEsQ0FBQztJQUVGLFVBQVU7UUFDTixJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDbEYsQ0FBQztDQUVKO0FBL0JELDhDQStCQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2FsbHMgYW4gZXZlbnQgaGFuZGxlciB3aGVuIHRoZSBwYWdlIGhhcyBiZWVuIHJlZHJhd24gc28gdGhhdCB3ZSBjYW5cbiAqIGF0dGFjaCBhbm5vdGF0aW9ucywgcGFnZW1hcmtzLCBldGMuXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBuZXcge0NvbnRhaW5lckxpZmVjeWNsZUxpc3RlbmVyfSBpbnN0ZWFkLlxuICogQHR5cGUge1BhZ2VSZWRyYXdIYW5kbGVyfVxuICovXG5leHBvcnQgY2xhc3MgUGFnZVJlZHJhd0hhbmRsZXIge1xuXG4gICAgcHJpdmF0ZSBwYWdlRWxlbWVudDogSFRNTEVsZW1lbnQ7XG5cbiAgICBwcml2YXRlIGxpc3RlbmVyOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihwYWdlRWxlbWVudDogSFRNTEVsZW1lbnQpIHtcblxuICAgICAgICB0aGlzLnBhZ2VFbGVtZW50ID0gcGFnZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBudWxsO1xuXG4gICAgfVxuXG4gICAgcmVnaXN0ZXIoY2FsbGJhY2s6IChwYWdlRWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHZvaWQpIHtcblxuICAgICAgICB0aGlzLmxpc3RlbmVyID0gKGV2ZW50OiBhbnkpID0+IHtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQuY2xhc3NOYW1lID09PSBcImVuZE9mQ29udGVudFwiKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5wYWdlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnBhZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIHRoaXMubGlzdGVuZXIsIGZhbHNlKTtcblxuICAgIH07XG5cbiAgICB1bnJlZ2lzdGVyKCkge1xuICAgICAgICB0aGlzLnBhZ2VFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIHRoaXMubGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9XG5cbn1cbiJdfQ==