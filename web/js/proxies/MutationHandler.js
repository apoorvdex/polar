"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MutationType_1 = require("./MutationType");
class MutationHandler {
    constructor(mutationListener) {
        this.mutationListener = mutationListener;
    }
    set(target, property, value, receiver) {
        Reflect.set(target, property, value, receiver);
        return this.mutationListener.onMutation(MutationType_1.MutationType.SET, target, property, value);
    }
    deleteProperty(target, property) {
        Reflect.deleteProperty(target, property);
        return this.mutationListener.onMutation(MutationType_1.MutationType.DELETE, target, property, undefined);
    }
}
exports.MutationHandler = MutationHandler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTXV0YXRpb25IYW5kbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiTXV0YXRpb25IYW5kbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBSUEsaURBQTRDO0FBRTVDLE1BQWEsZUFBZTtJQUl4QixZQUFZLGdCQUFrQztRQUMxQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7SUFDN0MsQ0FBQztJQUVNLEdBQUcsQ0FBQyxNQUFXLEVBQUUsUUFBZ0IsRUFBRSxLQUFVLEVBQUUsUUFBYTtRQUMvRCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQy9DLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQywyQkFBWSxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3ZGLENBQUM7SUFFTSxjQUFjLENBQUMsTUFBVyxFQUFFLFFBQWdCO1FBQy9DLE9BQU8sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3pDLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQywyQkFBWSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzlGLENBQUM7Q0FFSjtBQWxCRCwwQ0FrQkMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqXG4gKi9cbmltcG9ydCB7TXV0YXRpb25MaXN0ZW5lcn0gZnJvbSAnLi9NdXRhdGlvbkxpc3RlbmVyJztcbmltcG9ydCB7TXV0YXRpb25UeXBlfSBmcm9tICcuL011dGF0aW9uVHlwZSc7XG5cbmV4cG9ydCBjbGFzcyBNdXRhdGlvbkhhbmRsZXIge1xuXG4gICAgcHJpdmF0ZSBtdXRhdGlvbkxpc3RlbmVyOiBNdXRhdGlvbkxpc3RlbmVyO1xuXG4gICAgY29uc3RydWN0b3IobXV0YXRpb25MaXN0ZW5lcjogTXV0YXRpb25MaXN0ZW5lcikge1xuICAgICAgICB0aGlzLm11dGF0aW9uTGlzdGVuZXIgPSBtdXRhdGlvbkxpc3RlbmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQodGFyZ2V0OiBhbnksIHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBhbnksIHJlY2VpdmVyOiBhbnkpIHtcbiAgICAgICAgUmVmbGVjdC5zZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubXV0YXRpb25MaXN0ZW5lci5vbk11dGF0aW9uKE11dGF0aW9uVHlwZS5TRVQsIHRhcmdldCwgcHJvcGVydHksIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVsZXRlUHJvcGVydHkodGFyZ2V0OiBhbnksIHByb3BlcnR5OiBzdHJpbmcpIHtcbiAgICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5KTtcbiAgICAgICAgcmV0dXJuIHRoaXMubXV0YXRpb25MaXN0ZW5lci5vbk11dGF0aW9uKE11dGF0aW9uVHlwZS5ERUxFVEUsIHRhcmdldCwgcHJvcGVydHksIHVuZGVmaW5lZCk7XG4gICAgfVxuXG59XG4iXX0=