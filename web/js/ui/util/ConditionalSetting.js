"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Optional_1 = require("../../util/ts/Optional");
class ConditionalSetting {
    constructor(key) {
        this.key = key;
    }
    accept(predicate) {
        return predicate(this.get());
    }
    get() {
        return Optional_1.Optional.of(window.localStorage.getItem(this.key));
    }
    set(value) {
        window.localStorage.setItem(this.key, value);
    }
}
exports.ConditionalSetting = ConditionalSetting;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29uZGl0aW9uYWxTZXR0aW5nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiQ29uZGl0aW9uYWxTZXR0aW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEscURBQWdEO0FBRWhELE1BQWEsa0JBQWtCO0lBSTNCLFlBQVksR0FBVztRQUNuQixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztJQUNuQixDQUFDO0lBUU0sTUFBTSxDQUFDLFNBQTRCO1FBQ3RDLE9BQU8sU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFTSxHQUFHO1FBQ04sT0FBTyxtQkFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM5RCxDQUFDO0lBRU0sR0FBRyxDQUFDLEtBQWE7UUFDcEIsTUFBTSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNqRCxDQUFDO0NBRUo7QUExQkQsZ0RBMEJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtPcHRpb25hbH0gZnJvbSBcIi4uLy4uL3V0aWwvdHMvT3B0aW9uYWxcIjtcblxuZXhwb3J0IGNsYXNzIENvbmRpdGlvbmFsU2V0dGluZyB7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGtleTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Ioa2V5OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiB0aGlzIG1hdGNoZXMgdGhlIGNvbmRpdGlvbiB0byB0cmlnZ2VyIHNvbWUgdmFsdWUgYmFzZWQgb24gdGhpc1xuICAgICAqIHNldHRpbmcuICBBZnRlciBtYXRjaGluZyBpdCdzIHByb2JhYmx5IGJlc3QgdG8gdXBkYXRlIHRoZSB2YWx1ZSBiYXNlZFxuICAgICAqIG9uIGVpdGhlciBpbXBsaWNpdCBvciBtYW51YWwgYWNjZXB0YW5jZS5cbiAgICAgKiBAcGFyYW0gcHJlZGljYXRlXG4gICAgICovXG4gICAgcHVibGljIGFjY2VwdChwcmVkaWNhdGU6IFByZWRpY2F0ZTxzdHJpbmc+KSB7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGUodGhpcy5nZXQoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCgpOiBPcHRpb25hbDxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIE9wdGlvbmFsLm9mKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmtleSkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQodmFsdWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5rZXksIHZhbHVlKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IHR5cGUgUHJlZGljYXRlPFQ+ID0gKHZhbHVlOiBPcHRpb25hbDxUPikgPT4gYm9vbGVhbjtcbiJdfQ==