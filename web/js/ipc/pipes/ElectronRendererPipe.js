"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const electron_1 = require("electron");
const Pipe_1 = require("./Pipe");
class ElectronRendererPipe extends Pipe_1.Pipe {
    on(channel, listener) {
        electron_1.ipcRenderer.on(channel, (event, message) => {
            listener(new Pipe_1.PipeNotification(channel, event, message));
        });
    }
    once(channel, listener) {
        electron_1.ipcRenderer.once(channel, (event, message) => {
            listener(new Pipe_1.PipeNotification(channel, event, message));
        });
    }
    write(channel, message) {
        electron_1.ipcRenderer.send(channel, message);
    }
}
exports.ElectronRendererPipe = ElectronRendererPipe;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRWxlY3Ryb25SZW5kZXJlclBpcGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJFbGVjdHJvblJlbmRlcmVyUGlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVDQUFxQztBQUNyQyxpQ0FBNEQ7QUFLNUQsTUFBYSxvQkFBcUIsU0FBUSxXQUF5QjtJQUUvRCxFQUFFLENBQUMsT0FBZSxFQUFFLFFBQTJDO1FBQzNELHNCQUFXLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLEtBQXFCLEVBQUUsT0FBWSxFQUFFLEVBQUU7WUFDNUQsUUFBUSxDQUFDLElBQUksdUJBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzVELENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELElBQUksQ0FBQyxPQUFlLEVBQUUsUUFBMkM7UUFDN0Qsc0JBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBcUIsRUFBRSxPQUFZLEVBQUUsRUFBRTtZQUM5RCxRQUFRLENBQUMsSUFBSSx1QkFBZ0IsQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDNUQsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsS0FBSyxDQUFDLE9BQWUsRUFBRSxPQUFZO1FBQy9CLHNCQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBRUo7QUFsQkQsb0RBa0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtpcGNSZW5kZXJlcn0gZnJvbSAnZWxlY3Ryb24nO1xuaW1wb3J0IHtQaXBlLCBQaXBlTGlzdGVuZXIsIFBpcGVOb3RpZmljYXRpb259IGZyb20gJy4vUGlwZSc7XG5cbi8qKlxuICogUGlwZSB0aGF0IGxpc3RlbnMgdG8gZXZlbnRzIHNlbmQgdG8gZXZlbnQgc2VuZCB0byB0aGUgcmVuZGVyZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBFbGVjdHJvblJlbmRlcmVyUGlwZSBleHRlbmRzIFBpcGU8RWxlY3Ryb24uRXZlbnQsIGFueT4ge1xuXG4gICAgb24oY2hhbm5lbDogc3RyaW5nLCBsaXN0ZW5lcjogUGlwZUxpc3RlbmVyPEVsZWN0cm9uLkV2ZW50LCBhbnk+KTogdm9pZCB7XG4gICAgICAgIGlwY1JlbmRlcmVyLm9uKGNoYW5uZWwsIChldmVudDogRWxlY3Ryb24uRXZlbnQsIG1lc3NhZ2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3IFBpcGVOb3RpZmljYXRpb24oY2hhbm5lbCwgZXZlbnQsIG1lc3NhZ2UpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25jZShjaGFubmVsOiBzdHJpbmcsIGxpc3RlbmVyOiBQaXBlTGlzdGVuZXI8RWxlY3Ryb24uRXZlbnQsIGFueT4pOiB2b2lkIHtcbiAgICAgICAgaXBjUmVuZGVyZXIub25jZShjaGFubmVsLCAoZXZlbnQ6IEVsZWN0cm9uLkV2ZW50LCBtZXNzYWdlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ldyBQaXBlTm90aWZpY2F0aW9uKGNoYW5uZWwsIGV2ZW50LCBtZXNzYWdlKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHdyaXRlKGNoYW5uZWw6IHN0cmluZywgbWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgICAgIGlwY1JlbmRlcmVyLnNlbmQoY2hhbm5lbCwgbWVzc2FnZSk7XG4gICAgfVxuXG59XG4iXX0=