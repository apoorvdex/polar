"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const DistRuntime_1 = require("../../../dist_runtime/DistRuntime");
const ElectronDocLoader_1 = require("./electron/ElectronDocLoader");
const BrowserDocLoader_1 = require("./browser/BrowserDocLoader");
class DocLoader {
    constructor(persistenceLayerProvider) {
        this.persistenceLayerProvider = persistenceLayerProvider;
        this.electronDocLoader = new ElectronDocLoader_1.ElectronDocLoader(persistenceLayerProvider);
        this.browserDocLoader = new BrowserDocLoader_1.BrowserDocLoader(persistenceLayerProvider);
    }
    create(loadDocRequest) {
        if (DistRuntime_1.DistRuntime.get() === 'electron') {
            return this.electronDocLoader.create(loadDocRequest);
        }
        else {
            return this.browserDocLoader.create(loadDocRequest);
        }
    }
}
exports.DocLoader = DocLoader;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRG9jTG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiRG9jTG9hZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsbUVBQThEO0FBQzlELG9FQUErRDtBQUMvRCxpRUFBNEQ7QUFLNUQsTUFBYSxTQUFTO0lBT2xCLFlBQVksd0JBQXFEO1FBQzdELElBQUksQ0FBQyx3QkFBd0IsR0FBRyx3QkFBd0IsQ0FBQztRQUN6RCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxxQ0FBaUIsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLG1DQUFnQixDQUFDLHdCQUF3QixDQUFDLENBQUM7SUFDM0UsQ0FBQztJQUVNLE1BQU0sQ0FBQyxjQUE4QjtRQUV4QyxJQUFJLHlCQUFXLENBQUMsR0FBRyxFQUFFLEtBQUssVUFBVSxFQUFFO1lBQ2xDLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztTQUN4RDthQUFNO1lBQ0gsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQ3ZEO0lBRUwsQ0FBQztDQUVKO0FBdkJELDhCQXVCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TG9hZERvY1JlcXVlc3R9IGZyb20gJy4vTG9hZERvY1JlcXVlc3QnO1xuaW1wb3J0IHtQcmVjb25kaXRpb25zfSBmcm9tICcuLi8uLi8uLi9QcmVjb25kaXRpb25zJztcbmltcG9ydCB7RGlzdFJ1bnRpbWV9IGZyb20gJy4uLy4uLy4uL2Rpc3RfcnVudGltZS9EaXN0UnVudGltZSc7XG5pbXBvcnQge0VsZWN0cm9uRG9jTG9hZGVyfSBmcm9tICcuL2VsZWN0cm9uL0VsZWN0cm9uRG9jTG9hZGVyJztcbmltcG9ydCB7QnJvd3NlckRvY0xvYWRlcn0gZnJvbSAnLi9icm93c2VyL0Jyb3dzZXJEb2NMb2FkZXInO1xuaW1wb3J0IHtJUHJvdmlkZXJ9IGZyb20gJy4uLy4uLy4uL3V0aWwvUHJvdmlkZXJzJztcbmltcG9ydCB7UGVyc2lzdGVuY2VMYXllcn0gZnJvbSAnLi4vLi4vLi4vZGF0YXN0b3JlL1BlcnNpc3RlbmNlTGF5ZXInO1xuaW1wb3J0IHtJRG9jTG9hZGVyLCBJRG9jTG9hZFJlcXVlc3R9IGZyb20gJy4vSURvY0xvYWRlcic7XG5cbmV4cG9ydCBjbGFzcyBEb2NMb2FkZXIgaW1wbGVtZW50cyBJRG9jTG9hZGVyIHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGVyc2lzdGVuY2VMYXllclByb3ZpZGVyOiBJUHJvdmlkZXI8UGVyc2lzdGVuY2VMYXllcj47XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGVsZWN0cm9uRG9jTG9hZGVyOiBFbGVjdHJvbkRvY0xvYWRlcjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGJyb3dzZXJEb2NMb2FkZXI6IEJyb3dzZXJEb2NMb2FkZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihwZXJzaXN0ZW5jZUxheWVyUHJvdmlkZXI6IElQcm92aWRlcjxQZXJzaXN0ZW5jZUxheWVyPikge1xuICAgICAgICB0aGlzLnBlcnNpc3RlbmNlTGF5ZXJQcm92aWRlciA9IHBlcnNpc3RlbmNlTGF5ZXJQcm92aWRlcjtcbiAgICAgICAgdGhpcy5lbGVjdHJvbkRvY0xvYWRlciA9IG5ldyBFbGVjdHJvbkRvY0xvYWRlcihwZXJzaXN0ZW5jZUxheWVyUHJvdmlkZXIpO1xuICAgICAgICB0aGlzLmJyb3dzZXJEb2NMb2FkZXIgPSBuZXcgQnJvd3NlckRvY0xvYWRlcihwZXJzaXN0ZW5jZUxheWVyUHJvdmlkZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGUobG9hZERvY1JlcXVlc3Q6IExvYWREb2NSZXF1ZXN0KTogSURvY0xvYWRSZXF1ZXN0IHtcblxuICAgICAgICBpZiAoRGlzdFJ1bnRpbWUuZ2V0KCkgPT09ICdlbGVjdHJvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZWN0cm9uRG9jTG9hZGVyLmNyZWF0ZShsb2FkRG9jUmVxdWVzdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5icm93c2VyRG9jTG9hZGVyLmNyZWF0ZShsb2FkRG9jUmVxdWVzdCk7XG4gICAgICAgIH1cblxuICAgIH1cblxufVxuIl19